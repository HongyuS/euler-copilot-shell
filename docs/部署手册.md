# 部署手册

## 1. 环境要求

- **操作系统**：openEuler 24.03 LTS SP2 或更高版本
- **内存**：至少 8GB RAM
- **存储**：至少 20GB 可用磁盘空间
- **网络**：稳定的互联网连接（如果无法访问外部网络，请提前下载所需资源，详见 Q&A）
- **大模型服务**：
  - 线上：需要能支持工具调用的线上大模型 API 访问权限，如百炼、DeepSeek Chat、GLM-4.5 等
  - 本地：支持部署在本地的 LLM 服务，如 llama-server、ollama、vLLM、LM Studio 等，需要部署支持工具调用能力的大模型，如 Qwen3、GLM-4.5、Kimi K2、DeepSeek 3.2 等
- **系统权限**：需要具备 sudo 权限以安装必要的软件包和依赖项

## 2. 安装步骤

### 2.1 安装软件包

```bash
sudo dnf update -y
sudo dnf install -y openeuler-intelligence-cli openeuler-intelligence-installer
```

### 2.2 初始化 openEuler Intelligence

```bash
sudo oi --init
```

**注意**：*请使用 root 用户或具有 sudo 权限的用户运行此命令。*

![选择连接现有服务或部署新服务](./resource/oi-deploy-01-welcome.png)

**特别说明**：命令行客户端的界面样式会随着终端的适配情况出现差异，建议使用支持 256 色及以上的终端模拟器以获得最佳体验。本文档以 openEuler DevStation 内置的 GNOME 终端为例。

### 2.3 选择部署新服务

在欢迎界面选择“部署新服务”，然后按回车键继续。

![选择部署新服务](./resource/oi-deploy-02-env-check.png)

选择“继续配置”，进入参数配置界面。

### 2.4 配置参数

在参数配置界面，根据实际情况设置以下参数：

- **服务地址**：设置 openEuler Intelligence 服务的 IP，默认值为 `127.0.0.1`；
- **部署模式**：选择“轻量部署”或“全量部署”，轻量部署模式仅支持命令行界面，默认初始化全部内置的智能体，并自动选择“智能运维助手”为默认智能体；全量部署模式支持图形界面和命令行界面，但需要通过 Web 图形界面手动按需初始化智能体。

![基础配置](./resource/oi-deploy-03-basic.png)

完成基础配置后，点击上方“LLM 配置”标签页，进入大模型配置界面。

![LLM 配置标签页](./resource/oi-deploy-04-llm-tab.png)

依次配置大模型服务参数：

- API 端点：填写线上或本地大模型服务的 API 地址；
- API 密钥：根据所选大模型服务的要求，填写 API Key 或 Token
- 模型名称：选择所需使用的大模型。

**注意**：*请确保所选大模型支持工具调用能力，否则智能体将无法正常工作。*

![填写大模型信息](./resource/oi-deploy-05-llm-fill-in.png)

**注意：**

- “轻量部署”模式下，若不配置 Embedding 模型，可能会导致部分智能体功能受限；
- “全量部署”模式下必须填写 Embedding 模型，否则无法继续部署；
- 支持的 Embedding 端口格式有 OpenAI 兼容格式和 MindIE 格式，请根据实际情况填写。

### 2.5 启动部署

完成大模型配置后，点击下方“开始部署”按钮，启动部署程序。

![开始部署](./resource/oi-deploy-06-start.png)

![部署进行中](./resource/oi-deploy-07-ing.png)

部署过程可能需要较长时间，请耐心等待。部署完成后，系统会提示成功信息。

![部署完成](./resource/oi-deploy-08-finish.png)

轻量部署模式完成后，会显示已经初始化的智能体以及自动配置的默认智能体。
